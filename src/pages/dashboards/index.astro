---
import MainLayout from '../../layouts/MainLayout.astro';
import { dashboards } from '../../data/dashboards.js';
export const prerender = true;
import '../../styles/dashboards.css';

// FIX: Importing icons explicitly using the pkg workaround
import pkg from 'lucide-react';
const { CircleDot, TrendingUp } = pkg;
// The CircleDot icon is imported here to be used in the template's dynamic call.
---

<MainLayout title="Dashboards">
  
  <div class="dash-header">
    <h1>Live Dashboards</h1>
    <p>Interactive data applications and visualizations.</p>
  </div>

  <div class="dashboard-grid">
    {dashboards.map(project => (
      <a href={project.link} class="dash-card">
        
        <div class="preview-area" style={`background: radial-gradient(circle at center, ${project.color}1a 0%, #0f172a 70%);`}>
          {project.image ? (
            // Renders the custom image defined in dashboards.js
            <img src={project.image} alt={project.title} class="preview-img" />
          ) : (
            // Renders the Lucide icon fallback (e.g., for 'Sales Forecasting')
            <project.icon size={64} color={project.color} className="placeholder-icon" />
          )}
        </div>

        <div class="card-content">
          <h3>{project.title}</h3>
          <p>{project.description}</p>
          
          <div class="tech-stack">
            {project.tags.map(tag => (
              <span class="tech-tag">{tag}</span>
            ))}
          </div>

          <div class="launch-btn">Launch Dashboard â†’</div>
        </div>

      </a>
    ))}
  </div>

</MainLayout>