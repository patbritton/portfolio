---
import '../styles/global.css';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import SEO from '../components/SEO.astro'; // Import the dedicated SEO component

const { title, description } = Astro.props;

// Define default values if not provided by the consuming page
const defaultTitle = "Patrick's Data Lab";
const defaultDescription = "Patrick's Data Engineering Portfolio and Blog. Turning complex datasets into actionable business insights.";
const defaultImage = "https://patrick.mp.ls/images/og-image.png"; // Your default OG image
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
    <!-- Use the SEO component for all metadata, passing props dynamically -->
    <SEO
      title={title ? `${title} | Patrick's Data Lab` : defaultTitle}
      description={description || defaultDescription}
      canonicalUrl={Astro.url.pathname}
      siteName="Patrick's Data Lab" 
      image={defaultImage}
      type="website" 
    />
    
    <link rel="alternate" type="application/rss+xml" title="Patrick's Data Lab" href="/rss.xml" />
    <!-- You can remove the old hardcoded meta tags here, as they are now in the SEO component -->
  </head>
  
  <body>
    <Header />

    <main>
      <slot />
    </main>

    <Footer />
  </body>
</html>